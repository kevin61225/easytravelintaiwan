@{
    ViewBag.Title = "Google Map";
}

<style type="text/css">
    #map_canvas {
        height: 400px;
        width: 90%;
    }
</style>

<!--引入 Google API-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.9&sensor=false"></script>

<script type="text/javascript">

    var mainIcon = {
        url: 'Icons/04.png',
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(0, 32)
    };

    function init() {
        var mapDiv = document.getElementById('map_canvas');
        var map = new google.maps.Map(mapDiv, {
            center: new google.maps.LatLng(25.039941, 121.512812),
            zoom: 15,
            scaleControl: true,

            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        var distanceWidget = new DistanceWidget(map);
    }

    function DistanceWidget(map) {
        this.set('map', map);
        this.set('position', map.getCenter());

        var marker = new google.maps.Marker({
            draggable: true,
            title: '移動我 !!',
            icon: mainIcon,
        });

        // Bind the marker map property to the DistanceWidget map property
        marker.bindTo('map', this);

        // Bind the marker position property to the DistanceWidget position
        // property
        marker.bindTo('position', this);
    }
    DistanceWidget.prototype = new google.maps.MVCObject();

    google.maps.event.addDomListener(window, 'load', init);
</script>


<div id="map_canvas" class="map_canvas" aria-setsize="500"></div>
